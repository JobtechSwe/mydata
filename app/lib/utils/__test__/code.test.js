import { parse } from '../code'

describe('code', () => {
  describe('#parse', () => {
    it('parses auth url correctly', () => {
      const { type, jwt } = parse('mydata://auth/ZXlKaGJHY2lPaUpTVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0lzSW10cFpDSTZJbWgwZEhBNkx5OXNiMk5oYkdodmMzUTZOREF3TUM5cWQydHpMMk5zYVdWdWRGOXJaWGtpZlEuZXlKMGVYQmxJam9pUVZWVVNFVk9WRWxEUVZSSlQwNWZVa1ZSVlVWVFZDSXNJbTVoYldVaU9pSk5lU0JEVmlJc0ltUmxjMk55YVhCMGFXOXVJam9pUVc0Z1lYQndJR1p2Y2lCNWIzVnlJRU5XSUc5dWJHbHVaU0lzSW1WMlpXNTBjeUk2SW1oMGRIQTZMeTlzYjJOaGJHaHZjM1E2TkRBd01DOWxkbVZ1ZEhNaUxDSnBZWFFpT2pFMU5UWTNPVGMyTmprc0ltVjRjQ0k2TVRVMU56QTVOelkyT1N3aVlYVmtJam9pYlhsa1lYUmhPaTh2WVhWMGFDSXNJbWx6Y3lJNkltaDBkSEE2THk5c2IyTmhiR2h2YzNRNk5EQXdNQ0lzSW1wMGFTSTZJbU00TVRVNU5EYzRMVGszT1dJdE5EWmtZeTFpWlRJekxUWTBaVGd4Wm1ZMFlqRTJOU0o5LmJuVVlsUW1fR1dwQ0QxQ04zOHZSb1EwUkw0TmJkZk1qTW1yYklNQ0tpYnNRU052OUFFZWR0VHZFeXhIb0ZVRFhrb0NEdnZqOWZrN0YzanhQdmdNS2hXeTVBbVZwZEh0dlRqcy1lVWgxdEhVd0hub2dQXzF2Z0xiSm02cE1lNGxOSnZLTzF4ZWJHQXcxamNGWjlVZDRsNm00eDdyYWVUaDhPRzFIN19iVDQtYw')
      expect(type).toEqual('auth')
      expect(jwt).toEqual('eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCIsImtpZCI6Imh0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9qd2tzL2NsaWVudF9rZXkifQ.eyJ0eXBlIjoiQVVUSEVOVElDQVRJT05fUkVRVUVTVCIsIm5hbWUiOiJNeSBDViIsImRlc2NyaXB0aW9uIjoiQW4gYXBwIGZvciB5b3VyIENWIG9ubGluZSIsImV2ZW50cyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9ldmVudHMiLCJpYXQiOjE1NTY3OTc2NjksImV4cCI6MTU1NzA5NzY2OSwiYXVkIjoibXlkYXRhOi8vYXV0aCIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NDAwMCIsImp0aSI6ImM4MTU5NDc4LTk3OWItNDZkYy1iZTIzLTY0ZTgxZmY0YjE2NSJ9.bnUYlQm_GWpCD1CN38vRoQ0RL4NbdfMjMmrbIMCKibsQSNv9AEedtTvEyxHoFUDXkoCDvvj9fk7F3jxPvgMKhWy5AmVpdHtvTjs-eUh1tHUwHnogP_1vgLbJm6pMe4lNJvKO1xebGAw1jcFZ9Ud4l6m4x7raeTh8OG1H7_bT4-c')
    })
  })
})
